{"version":3,"file":"js/910.bc64ba86.js","mappings":"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","sources":["webpack://lbrygen-electron/./src/stores/StreamStore.js","webpack://lbrygen-electron/./src/components/SearchItem.vue","webpack://lbrygen-electron/./src/components/SearchItem.vue?777b","webpack://lbrygen-electron/./src/components/SearchView.vue","webpack://lbrygen-electron/./src/components/SearchView.vue?b205"],"sourcesContent":["import { defineStore } from 'pinia'\nimport EventService from \"../services/EventService.js\"\n\nlet streamModel = {\n    url: '',\n    desc: '',\n    title: '',\n    tags: ['']\n}\n\nexport const useStreamStore = defineStore (\n    'stream', \n    {\n        state: () => ({\n            stream : streamModel\n        }),\n        getters: {\n            getStreamUrl: (state) => state.stream.url,\n            getStreamDesc: (state) => state.stream.desc,\n            getStreamTitle: (state) => state.stream.title,\n            getStreamTags: (state) => state.stream.tags \n        },\n        actions: {\n            async requestStream(url) {\n                EventService.getStreamByUrl(url).then((response) => {\n\n                    this.stream.url = response.streaming_url\n\n                    if (response.metadata !== undefined) {\n                        \n                        if (response.metadata.description !== undefined) {\n                            this.stream.desc = response.metadata.description\n                        } else {\n                            this.stream.desc = 'No video description found.'\n                        }\n\n                        if (response.metadata.title !== undefined) {\n                            this.stream.title = response.metadata.title\n                        } else {\n                            this.stream.title = response.metadata.source.name\n                        }\n\n                        if (response.metadata.tags !== undefined) {\n                            this.stream.tags = Object.values(response.metadata.tags)\n                        }\n                    }\n                })\n            },\n        }\n        \n    }\n)\n","<template>\n    <div class=\"flex-x items-stretch\">\n\n        <div class=\"avatar\">\n            <div id=\"thumbnail\" class=\"rounded\">\n                <img v-if=\"thumbnail\" :src=\"thumbnail.url\">\n            </div>\n        </div>\n\n        <div id=\"streaming-url-wrapper\" class=\"flex-1 grid\">\n\n            <label id=\"streaming-url\" @click=\"getStream(streamUrl)\">\n                <slot name=\"center\"></slot>\n            </label>\n\n            <div class=\"flex-x-start mt-2\">\n\n                <div v-if=\"showAvatar\" id=\"channel-avatar-wrapper\" class=\"avatar mr-2\">\n                    <div id=\"channel-avatar\" class=\"rounded-full\">\n                        <img v-if=\"avatar \n                                && avatar.value \n                                && avatar.value.thumbnail\" \n                            :src=\"avatar.value.thumbnail.url\" loading=\"lazy\">\n                    </div>\n                </div>\n                <div v-else></div>\n\n                <label id=\"channel-name\">\n                    <slot name=\"center-sub\"></slot>\n                </label>\n\n            </div>\n\n        </div>\n\n        <div id=\"search-result-rear\" class=\"grid grid-rows-6\">\n            <slot name=\"rear\"></slot>\n        </div>\n\n    </div>\n    <div class=\"divider h-0\"></div>\n</template>\n\n<script>\nimport { useStreamStore } from \"@/stores/StreamStore.js\";\nexport default {\n    props: {\n        thumbnail: Object,\n        streamUrl: String,\n        avatar: Object,\n        showAvatar: {\n            default: true,\n            type: Boolean\n        },\n    },\n    setup() {\n        const stream = useStreamStore()\n        return { stream }\n    },\n    methods: {\n         async getStream(url) {\n            window.scrollTo(0,0)\n            this.stream.requestStream(url).then (() => {\n\n                this.$router.push({ \n                    name: 'stream', \n                    query: { url:  url}\n                })\n            })\n        },\n    }\n}\n</script>\n\n<style>\n#search-result-rear {\n    align-content: center;\n}\n\n#streaming-url-wrapper {\n    padding-left: calc(3rem/2);\n    width: 300px;\n    text-align: start;\n    align-self: flex-start;\n    font-size: 1rem;\n    font-weight: 700;  \n}\n\n#streaming-url {\n    cursor: pointer;\n\n    /* Standard way to clamp */\n    overflow: hidden;\n    display: -webkit-box;\n    -webkit-line-clamp: 1;\n    -webkit-box-orient: vertical;\n}\n\n#channel-avatar {\n    width: 2.1rem;\n    height: 2.1rem;\n}\n\n#channel-name {\n    font-size: 0.78rem;\n    font-weight: 300;\n}\n\n#thumbnail {\n    width: calc(12rem * 1.2);\n    height: calc(12rem * 0.6);\n}\n\n/* md screen */\n@media (max-width: 960px) {\n    #search-result-rear {\n        display: none;\n    }\n}\n\n</style>","import { render } from \"./SearchItem.vue?vue&type=template&id=ab877f4a\"\nimport script from \"./SearchItem.vue?vue&type=script&lang=js\"\nexport * from \"./SearchItem.vue?vue&type=script&lang=js\"\n\nimport \"./SearchItem.vue?vue&type=style&index=0&id=ab877f4a&lang=css\"\n\nimport exportComponent from \"/home/sashimi/Coding/lbrygen-electron/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div id=\"content\" class=\"mx-10 pt-20 overflow-hidden\">\n        <div v-if=\"sourceData && sourceData.result\">\n            <li v-for=\"item in sourceData.result.items\" :key=\"item\">\n                <SearchItem :thumbnail=\"item.value.thumbnail\" \n                            :streamUrl=\"item.short_url\"\n                            :avatar=\"item.signing_channel\">\n                    <template v-slot:center>\n\n                        <div v-if=\"item.value.title\">\n                        {{ item.value.title }}\n                        </div>\n\n                        <div v-else>\n                        {{ item.name }}\n                        </div>\n\n                    </template>\n                    <template v-slot:center-sub>\n\n                        <div v-if=\"item.signing_channel\n                                && item.signing_channel.value\">\n                        {{ item.signing_channel.value.title }}\n                        </div>\n                        <div v-else> Anonymous </div>\n\n                    </template>\n                    <template v-slot:rear>\n\n                        <div v-if=\"item.value.tags\" id=\"tag-group\" class=\"flex-x row-start-6\">\n                            <div v-if=\"item.value.tags[0]\" class=\"badge tag-spacing rounded-md\"\n                                @click=\"queryTag(item.value.tags[0])\"> \n                                 {{ item.value.tags[0] }}\n                            </div>\n\n                            <div v-if=\"item.value.tags[1]\" class=\"badge tag-spacing rounded-md\"\n                                @click=\"queryTag(item.value.tags[1])\"> \n                                {{ item.value.tags[1] }} \n                            </div>\n\n                            <div v-if=\"item.value.tags[2]\" class=\"badge rounded-md\"\n                                @click=\"queryTag(item.value.tags[2])\"> \n                                {{ item.value.tags[2] }} \n                            </div>\n\n                        </div>\n                        \n                    </template>\n                </SearchItem>\n            </li>\n        </div>\n\n        <!-- pagination -->\n        <div v-if=\"sourceData && sourceData.result\">\n            <p class=\"font-heavy\"> {{ this.currPage }} </p>\n            <div class=\"btn-group flex-x-center my-4\">\n                <button class=\"btn\" @click=\"firstPage()\">First</button>\n                <button class=\"btn\" @click=\"prevPage()\">Prev</button>\n                <button class=\"btn\" @click=\"nextPage()\">Next</button>\n            </div>\n        </div>\n  </div>\n</template>\n\n<script>\nimport { useSearchStore } from \"@/stores/SearchStore.js\"\nimport SearchItem from '@/components/SearchItem.vue'\n\nexport default {\n    components: {\n        SearchItem\n    },\n    setup() {\n        const search = useSearchStore()\n        return { search }\n    },\n    props: {\n        searchContent: String,\n        queryType: String,\n        streamType: String,\n        currPage: String\n    },\n    data() {\n        return {\n            sourceData: '',\n        };\n    },\n    mounted() {\n        this.sourceData = this.search.getSourceData\n        this.search.$subscribe((mutation, state) => {\n            \n            // Make sure only request once\n            if (mutation.storeId == 'search') {\n                this.sourceData = state.search.sourceData\n            }\n        })\n    },\n    methods: {\n        navigateToSearch() {\n            this.$router.push({ \n                name: 'search',\n                query: { \n                    q:  this.searchContent,\n                    qt: this.search.getSearchType,\n                    st: this.search.getStreamType,\n                    p: this.search.getCurrPage\n                }\n            })\n        },\n        firstPage() {\n            this.search.resetPage()\n            this.navigateToSearch()\n        },\n        prevPage() {\n            this.search.prevPage()\n            this.navigateToSearch()\n        },\n        nextPage() {\n            this.search.nextPage()\n            this.navigateToSearch()\n        },\n        queryTag(searchContent) {\n            this.$router.push({ \n                name: 'search',\n                query: { \n                    q:  searchContent,\n                    qt: 'tag',\n                    st: 'video',\n                    p: '1'\n                }\n            })\n        }\n    },\n};\n</script>\n\n<style>\nli {\n    list-style-type: none;\n}\n\nbutton {\n    cursor: pointer;\n}\n\n.btn-group .btn {\n  @apply bg-green !important;\n  @apply hover:bg-green-800 !important;\n  @apply text-white;\n}\n\n.badge {\n    @apply bg-white-sub;\n    @apply text-black;\n    @apply hover:bg-green;\n    @apply border-0;\n    cursor: pointer;\n}\n\n[data-theme=\"dark\"] .badge {\n    @apply bg-gray-white;\n    @apply text-white;\n    @apply hover:bg-green;\n}\n\n.avatar {\n    float: left;\n    object-fit: cover;\n}\n\n.tag-spacing {\n    margin: 0 6.4px 0 0;\n}\n\n#search-history {\n    margin: 0.5rem 0 0 0;\n    width: 100%;\n    text-align: start;\n    @apply bg-gray-white;\n    @apply rounded-md\n}\n\n#search-filter {\n    margin-right: auto;\n}\n\n#stream-filter {\n    margin-right: auto;\n}\n\n#search-result-item {\n    align-content: center;\n}\n\n#text-unknown {\n    padding-right: 10px;\n}\n\n@media (max-width: 960px) {\n    #content {\n        margin-right: 1rem;\n        margin-left: 1rem;\n    }\n}\n</style>","import { render } from \"./SearchView.vue?vue&type=template&id=54943754\"\nimport script from \"./SearchView.vue?vue&type=script&lang=js\"\nexport * from \"./SearchView.vue?vue&type=script&lang=js\"\n\nimport \"./SearchView.vue?vue&type=style&index=0&id=54943754&lang=css\"\n\nimport exportComponent from \"/home/sashimi/Coding/lbrygen-electron/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["streamModel","url","desc","title","tags","useStreamStore","defineStore","state","stream","getters","getStreamUrl","getStreamDesc","getStreamTitle","getStreamTags","actions","async","EventService","then","response","this","streaming_url","undefined","metadata","description","source","name","Object","values","class","id","_createElementVNode","$props","_createElementBlock","src","onClick","$options","_renderSlot","_ctx","value","thumbnail","loading","_hoisted_10","_hoisted_13","props","streamUrl","String","avatar","showAvatar","default","type","Boolean","setup","methods","window","scrollTo","requestStream","$router","push","query","__exports__","render","$data","result","_hoisted_2","_Fragment","_renderList","items","item","key","_createVNode","_component_SearchItem","short_url","signing_channel","center","_hoisted_3","_toDisplayString","_hoisted_4","_withCtx","_hoisted_5","_hoisted_6","rear","_hoisted_8","_hoisted_9","_hoisted_11","currPage","components","SearchItem","search","useSearchStore","searchContent","queryType","streamType","data","sourceData","mounted","getSourceData","$subscribe","mutation","storeId","navigateToSearch","q","qt","getSearchType","st","getStreamType","p","getCurrPage","firstPage","resetPage","prevPage","nextPage","queryTag"],"sourceRoot":""}