(self["webpackChunklbrygen_electron"]=self["webpackChunklbrygen_electron"]||[]).push([[465],{166:function(e,t,a){"use strict";a.d(t,{o:function(){return n}});var s=a(8650),r=a(7764);let i={url:"",desc:"",title:"",tags:[""]};const n=(0,s.Q_)("stream",{state:()=>({stream:i}),getters:{getStreamUrl:e=>e.stream.url,getStreamDesc:e=>e.stream.desc,getStreamTitle:e=>e.stream.title,getStreamTags:e=>e.stream.tags},actions:{async requestStream(e){r.Z.getStreamByUrl(e).then((e=>{this.stream.url=e.streaming_url,void 0!==e.metadata&&(void 0!==e.metadata.description?this.stream.desc=e.metadata.description:this.stream.desc="No video description found.",void 0!==e.metadata.title?this.stream.title=e.metadata.title:this.stream.title=e.metadata.source.name,void 0!==e.metadata.tags&&(this.stream.tags=Object.values(e.metadata.tags)))}))}}})},9715:function(e,t){t.N=e=>{let t=/(?![^<]*>|[^<>]*<\/)((https?:)\/\/[a-z0-9&#=.\/\-?_]+)/gi,a=e.replace(t,'<a href="$1" target="_blank">$1</a>');return a}},1947:function(e,t,a){"use strict";a.d(t,{Z:function(){return k}});var s=a(3396);const r={class:"flex-x items-stretch"},i={class:"avatar"},n={id:"thumbnail",class:"rounded"},l=["src"],d={id:"streaming-url-wrapper",class:"flex-1 grid"},c={class:"flex-x-start mt-2"},o={key:0,id:"channel-avatar-wrapper",class:"avatar mr-2"},m={id:"channel-avatar",class:"rounded-full"},u=["src"],g={key:1},h={id:"channel-name"},v={id:"search-result-rear",class:"grid grid-rows-6"},p=(0,s._)("div",{class:"divider h-0"},null,-1);function w(e,t,a,w,_,y){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",r,[(0,s._)("div",i,[(0,s._)("div",n,[a.thumbnail?((0,s.wg)(),(0,s.iD)("img",{key:0,src:a.thumbnail.url},null,8,l)):(0,s.kq)("",!0)])]),(0,s._)("div",d,[(0,s._)("label",{id:"streaming-url",onClick:t[0]||(t[0]=e=>y.getStream(a.streamUrl))},[(0,s.WI)(e.$slots,"center")]),(0,s._)("div",c,[a.showAvatar?((0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",m,[a.avatar&&a.avatar.value&&a.avatar.value.thumbnail?((0,s.wg)(),(0,s.iD)("img",{key:0,src:a.avatar.value.thumbnail.url,loading:"lazy"},null,8,u)):(0,s.kq)("",!0)])])):((0,s.wg)(),(0,s.iD)("div",g)),(0,s._)("label",h,[(0,s.WI)(e.$slots,"center-sub")])])]),(0,s._)("div",v,[(0,s.WI)(e.$slots,"rear")])]),p],64)}var _=a(166),y={props:{thumbnail:Object,streamUrl:String,avatar:Object,showAvatar:{default:!0,type:Boolean}},setup(){const e=(0,_.o)();return{stream:e}},methods:{async getStream(e){window.scrollTo(0,0),this.stream.requestStream(e).then((()=>{this.$router.push({name:"stream",query:{url:e}})}))}}},f=a(89);const b=(0,f.Z)(y,[["render",w]]);var k=b},9465:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return H}});var s=a(3396),r=a(7139);const i={id:"content-wrapper",class:""},n={key:0,id:"layout",class:"grid grid-cols-3 gap-8 mt-4 px-4"},l={id:"container",class:"grid grid-rows-9 col-span-2"},d=["src"],c={id:"stream-info",class:"mt-6"},o={id:"stream-title"},m=(0,s._)("div",{id:"stream-info-divider",class:"divider h-0"},null,-1),u={id:"stream-desc"},g=["innerHTML"],h={id:"related-videos",class:"card flex-1"},v={key:0},p={key:1},w={key:1,id:"stream-loading",class:"flex-y-center"},_=(0,s._)("div",{class:"fancy-spinner"},[(0,s._)("div",{class:"ring"}),(0,s._)("div",{class:"ring"}),(0,s._)("div",{class:"dot"})],-1),y=[_];function f(e,t,a,_,f,b){const k=(0,s.up)("SearchItem");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",i,[""!=f.sourceData?((0,s.wg)(),(0,s.iD)("div",n,[(0,s._)("div",l,[(0,s._)("iframe",{width:"1280",height:"630",allowfullscreen:"",webkitallowfullscreen:"",src:_.stream.getStreamUrl,frameborder:"0"},"\n                    ",8,d),(0,s._)("div",c,[(0,s._)("h1",o,(0,r.zw)(f.title),1),m,(0,s._)("div",u,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(f.descList,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t},[(0,s._)("span",{innerHTML:b.linkify(e)},null,8,g)])))),128))]),(0,s._)("button",{id:"expand-btn",class:"text-green",onClick:t[0]||(t[0]=e=>b.expandDesc())},"More")])]),(0,s._)("div",h,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(f.sourceData.result.items,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e},[(0,s.Wm)(k,{thumbnail:e.value.thumbnail,streamUrl:e.short_url,showAvatar:!1},{center:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(e.name),1)])),"center-sub":(0,s.w5)((()=>[e.signing_channel&&e.signing_channel.value?((0,s.wg)(),(0,s.iD)("div",v,(0,r.zw)(e.signing_channel.value.title),1)):((0,s.wg)(),(0,s.iD)("div",p," Anonymous "))])),_:2},1032,["thumbnail","streamUrl"])])))),128))])])):((0,s.wg)(),(0,s.iD)("div",w,y))])])}var b=a(7764),k=a(166),D=a(1947),x=a(9715),S={props:{streamUrl:String},components:{SearchItem:D.Z},setup(){const e=(0,k.o)();return{stream:e}},data(){return{sourceData:"",title:"",descList:[""],shouldExpand:!0}},mounted(){this.stream.$subscribe(((e,t)=>{this.title=this.stream.getStreamTitle,this.descList=this.stream.getStreamDesc.split("\n"),"stream"==e.storeId&&""==this.sourceData&&b.Z.getContent("tag","video",t.stream.tags,1,18,"trending_group").then((e=>{void 0!==e.error?console.error(e):this.sourceData=e}))}))},methods:{linkify:x.N,expandDesc(){this.shouldExpand?(document.getElementById("expand-btn").innerHTML="Less",document.getElementById("stream-desc").style.overflow="unset",document.getElementById("stream-desc").style.maxHeight="unset"):(document.getElementById("expand-btn").innerHTML="More",document.getElementById("stream-desc").style.overflow="hidden",document.getElementById("stream-desc").style.maxHeight="10em"),this.shouldExpand=!this.shouldExpand}}},I=a(89);const E=(0,I.Z)(S,[["render",f]]);var H=E}}]);
//# sourceMappingURL=465.4f0cdac5.js.map