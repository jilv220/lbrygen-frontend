(function(){"use strict";var e={2761:function(e,t,r){var a=r(9242),n=r(3396),s=r(2448);const o={key:0},i={class:"drawer h-auto"},c=(0,n._)("input",{id:"my-drawer",class:"drawer-toggle",type:"checkbox"},null,-1),l={class:"drawer-content overflow-hidden"},u={id:"navbar",class:"navbar fixed shadow z-50"},h=(0,n.uE)('<div class="navbar-start"><label for="my-drawer" class="mr-6"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"></path></svg></label></div><div class="pr-4"><img class="lbry-logo" alt="Lbry logo" src="'+s+'"></div>',2),d={class:"flex-1"},p={class:"pr-10"},m={class:"navbar-end"},g=(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[(0,n._)("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})],-1),f=(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[(0,n._)("path",{"fill-rule":"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 \n                  0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0\n                  4 4 0 018 0zm-.464 4.95l.707.707a1 \n                  1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 \n                  1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 \n                  0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 \n                  11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 \n                  1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 \n                  0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 \n                  8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 \n                  0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z","clip-rule":"evenodd"})],-1),y={class:"drawer-side h-screen"},v=(0,n._)("label",{for:"my-drawer",class:"drawer-overlay"},null,-1),w={id:"drawer-sidebar",class:"menu p-4 overflow-y-auto w-80 text-base-content"},b=(0,n._)("div",{class:"active:bg-green"},[(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[(0,n._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})]),(0,n.Uk)(" Home ")],-1),T=[b],_={key:1,class:"flex-y-center"},S=(0,n.uE)('<img class="splash-logo" alt="Lbry logo" src="'+s+'"><div class="fancy-spinner"><div class="ring"></div><div class="ring"></div><div class="dot"></div></div>',2),k=[S];function C(e,t,r,s,b,S){const C=(0,n.up)("SearchBar"),x=(0,n.up)("FilterDropdown"),$=(0,n.up)("router-view");return this.isLbryReady?((0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("div",null,[(0,n._)("div",i,[c,(0,n._)("div",l,[(0,n._)("div",u,[h,(0,n._)("div",d,[(0,n.Wm)(C)]),(0,n._)("div",p,[(0,n.Wm)(x)]),(0,n._)("div",m,[g,(0,n.wy)((0,n._)("input",{type:"checkbox",class:"toggle mx-3",onClick:t[0]||(t[0]=e=>S.switchTheme()),"onUpdate:modelValue":t[1]||(t[1]=e=>this.checked=e)},null,512),[[a.e8,this.checked]]),f])]),(0,n.Wm)($,null,{default:(0,n.w5)((({Component:t})=>[((0,n.wg)(),(0,n.j4)(n.Ob,null,[((0,n.wg)(),(0,n.j4)((0,n.LL)(t),{key:e.$route.fullPath}))],1024))])),_:1})]),(0,n._)("div",y,[v,(0,n._)("ul",w,[(0,n._)("li",{onClick:t[2]||(t[2]=e=>S.navigateTo("home"))},T)])])])])])):((0,n.wg)(),(0,n.iD)("div",_,k))}var x=r(7764);const $={class:"dropdown flex-1 mr-3"};function P(e,t,r,s,o,i){return(0,n.wg)(),(0,n.iD)("div",$,[(0,n.wy)((0,n._)("input",{tabindex:"0",id:"input-bar",class:"input w-full focus:outline-green",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>o.searchContent=e),placeholder:"Search some contents...",autocomplete:"off",onKeyup:t[1]||(t[1]=(0,a.D2)((e=>{i.performSearch(s.search.getSearchType,o.searchContent,s.search.getStreamType,s.search.getCurrPage)}),["enter"]))},null,544),[[a.nr,o.searchContent]])])}var q=r(6801),A={run(e,t){let r="";return r="channel"==t?`@${e}`:e,r}},D={setup(){const e=(0,q.R)();return{search:e}},data(){return{searchContent:""}},watch:{$route(e,t){"search"==t.name&&(this.searchContent="",this.search.resetPage()),"search"==e.name&&(this.searchContent=this.$route.query.q,this.search.storeAll(this.$route.query.qt,this.$route.query.st,this.$route.query.p),this.performSearch(this.search.getSearchType,this.searchContent,this.search.getStreamType,this.search.getCurrPage))}},mounted(){this.$route.query.q&&(this.searchContent=this.$route.query.q,this.search.storeAll(this.$route.query.qt,this.$route.query.st,this.$route.query.p),this.performSearch(this.search.getSearchType,this.searchContent,this.search.getStreamType,this.search.getCurrPage))},methods:{async performSearch(e,t,r,a){let n=A.run(t,e);x.Z.getContent(e,r,n,Number(a)).then((e=>{void 0!==e.error?console.error(e):this.search.storeSourceData(e)})).then((()=>{this.$router.push({name:"search",query:{q:t,qt:e,st:r,p:a}})}))}}},I=r(89);const E=(0,I.Z)(D,[["render",P]]);var j=E;const L=(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[(0,n._)("path",{"fill-rule":"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z","clip-rule":"evenodd"})],-1),O={id:"filter-area",class:"p-6 grid grid-flow-col auto-cols-max text-left"},M={id:"stream-filter",class:"gird grid-flow-row auto-rows-max pr-6",autocomplete:"off"},z=(0,n._)("div",null,[(0,n._)("label",{class:"pl-02 pr-06"},"Filter by : ")],-1),B=(0,n._)("label",{class:"pl-02 pr-06",for:"video"},"Video",-1),F=(0,n._)("label",{class:"pl-02 pr-06",for:"image"},"Image",-1),U=(0,n._)("label",{class:"pl-02",for:"document"},"Document",-1),V={id:"search-filter",class:"gird grid-flow-row auto-rows-max",autocomplete:"off"},N=(0,n._)("div",null,[(0,n._)("label",{class:"pl-02 pr-06"},"Search by : ")],-1),R=(0,n._)("label",{class:"pl-02 pr-06",for:"tag"},"Tag",-1),Z=(0,n._)("label",{class:"pl-02 pr-06",for:"text"},"Text",-1),G=(0,n._)("label",{class:"pl-02",for:"channel"},"Channel",-1);function W(e,t,r,s,o,i){const c=(0,n.up)("DropdownBtn");return(0,n.wg)(),(0,n.j4)(c,{class:"hover:bg-green rounded-full p-2"},{"btn-icon":(0,n.w5)((()=>[L])),"dropdown-content":(0,n.w5)((()=>[(0,n._)("div",O,[(0,n._)("form",M,[z,(0,n._)("div",null,[(0,n.wy)((0,n._)("input",{type:"radio",id:"video",value:"video","onUpdate:modelValue":t[0]||(t[0]=e=>o.streamType=e)},null,512),[[a.G2,o.streamType]]),B]),(0,n._)("div",null,[(0,n.wy)((0,n._)("input",{type:"radio",id:"image",value:"image","onUpdate:modelValue":t[1]||(t[1]=e=>o.streamType=e)},null,512),[[a.G2,o.streamType]]),F]),(0,n._)("div",null,[(0,n.wy)((0,n._)("input",{type:"radio",id:"document",value:"document","onUpdate:modelValue":t[2]||(t[2]=e=>o.streamType=e)},null,512),[[a.G2,o.streamType]]),U])]),(0,n._)("form",V,[N,(0,n._)("div",null,[(0,n.wy)((0,n._)("input",{type:"radio",id:"tag",value:"tag","onUpdate:modelValue":t[3]||(t[3]=e=>o.searchType=e)},null,512),[[a.G2,o.searchType]]),R]),(0,n._)("div",null,[(0,n.wy)((0,n._)("input",{type:"radio",id:"text",value:"text","onUpdate:modelValue":t[4]||(t[4]=e=>o.searchType=e)},null,512),[[a.G2,o.searchType]]),Z]),(0,n._)("div",null,[(0,n.wy)((0,n._)("input",{type:"radio",id:"channel",value:"channel","onUpdate:modelValue":t[5]||(t[5]=e=>o.searchType=e)},null,512),[[a.G2,o.searchType]]),G])])])])),_:1})}const H={class:"dropdown dropdown-end dropdown-hover"},K={class:"cursor-pointer",tabindex:"0"},Q={class:"dropdown-content menu"};function J(e,t,r,a,s,o){return(0,n.wg)(),(0,n.iD)("div",H,[(0,n._)("div",K,[(0,n.WI)(e.$slots,"btn-icon",{},void 0,!0)]),(0,n._)("div",Q,[(0,n.WI)(e.$slots,"dropdown-content",{},void 0,!0)])])}var X={};const Y=(0,I.Z)(X,[["render",J],["__scopeId","data-v-d4ce2a3e"]]);var ee=Y,te={components:{DropdownBtn:ee},setup(){const e=(0,q.R)();return{search:e}},data(){return{searchType:"tag",streamType:"video"}},mounted(){this.search.storeFilterInfo(this.searchType,this.streamType)},watch:{searchType:function(){this.search.storeFilterInfo(this.searchType,this.streamType)},streamType:function(){this.search.storeFilterInfo(this.searchType,this.streamType)},$route(e,t){"search"==t.name&&"search"==e.name?(this.searchType=this.search.getSearchType,this.streamType=this.search.getStreamType):"search"==t.name?(this.searchType="tag",this.streamType="video"):"search"==e.name&&(this.searchType=this.search.getSearchType,this.streamType=this.search.getStreamType)}}};const re=(0,I.Z)(te,[["render",W]]);var ae=re,ne={name:"App",components:{SearchBar:j,FilterDropdown:ae},data(){return{checked:this.$theme,intervalId:0,isLbryReady:!1}},mounted(){this.intervalId=setInterval((()=>{this.checkLbryStatus()}),100)},watch:{isLbryReady:function(){clearInterval(this.intervalId),console.clear()}},beforeCreate(){"dark"==window.localStorage.getItem("theme")?(this.$theme=1,document.documentElement.setAttribute("data-theme","dark"),window.localStorage.setItem("theme","dark")):"light"==window.localStorage.getItem("theme")?(this.$theme=0,document.documentElement.setAttribute("data-theme","light"),window.localStorage.setItem("theme","light")):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(this.$theme=1,document.documentElement.setAttribute("data-theme","dark"))},methods:{switchTheme(){this.$theme=!this.$theme,this.$theme?(document.documentElement.setAttribute("data-theme","dark"),window.localStorage.setItem("theme","dark")):(document.documentElement.setAttribute("data-theme","light"),window.localStorage.setItem("theme","light"))},async checkLbryStatus(){x.Z.getDaemonStatus().then((e=>{this.isLbryReady=e.result.is_running}))},navigateTo(e){this.$router.push({name:e})}}};const se=(0,I.Z)(ne,[["render",C]]);var oe=se,ie=r(8650),ce=r(678);const le=()=>r.e(906).then(r.bind(r,5906)),ue=()=>r.e(910).then(r.bind(r,910)),he=()=>r.e(465).then(r.bind(r,9465)),de=[{path:"/",name:"home",component:le},{path:"/search",name:"search",component:ue,props:e=>({searchContent:e.query.q,queryType:e.query.qt,streamType:e.query.st,currPage:e.query.p})},{path:"/stream",name:"stream",component:he,props:e=>({streamUrl:e.query.url})}],pe=(0,ce.p7)({history:(0,ce.r5)(),routes:de});pe.beforeEach((()=>{window.scrollTo(0,0)}));var me=pe;const ge=(0,a.ri)(oe).use((0,ie.WB)()).use(me);me.isReady().then((()=>{ge.mount("#app")})),ge.config.globalProperties.$theme=0,ge.config.globalProperties.window=window},7764:function(e,t,r){r.d(t,{Z:function(){return l}});var a=r(6265),n=r.n(a);const s="https://lbrygen-backend.herokuapp.com/",o=!1;var i=r(5410);let c;c=o?"http://localhost:5000/api":s;var l={async getStreamByUrl(e){let t=await n().get(`${c}/getStream?url=${e}`);return t.data},async downloadFromStream(e){let t=await n().get(`${c}/getStream?url=${e}`,{params:{d:"y"}});return t.data},async getContent(e,t,r,a=1,s=18,o="release_time"){let l="",u={p:a,ps:s,st:t,o:o};if(Array.isArray(r))r.length>5?u["t"]=r.slice(0,6):u["t"]=r;else{switch(e){case"tag":l="t";break;case"text":l="q";break;case"channel":l="c";break}u[l]=r}let h=await n().get(`${c}/search`,{params:u,paramsSerializer:e=>i.stringify(e)});return h.data},async resolveClaimSingle(e){let t=await n().get(`${c}/resolveSingle?urls=${e}`);return t.data},async getDaemonStatus(){let e=await n().get(`${c}/status`);return e.data}}},6801:function(e,t,r){r.d(t,{R:function(){return s}});var a=r(8650);let n={searchType:String,searchContent:String,streamType:String,currPage:"1",sourceData:Object};const s=(0,a.Q_)("search",{state:()=>({search:n}),getters:{getSearchType:e=>e.search.searchType,getSearchContent:e=>e.search.searchContent,getStreamType:e=>e.search.streamType,getCurrPage:e=>e.search.currPage,getSourceData:e=>e.search.sourceData},actions:{init(){this.search.searchType="tag",this.search.searchContent="",this.search.streamType="video",this.search.currPage=1},initFilter(){this.search.searchType="tag",this.search.streamType="video"},resetPage(){this.search.currPage="1"},nextPage(){let e=Number(this.search.currPage)+1;this.search.currPage=e.toString()},prevPage(){if(Number(this.search.currPage)>1){let e=Number(this.search.currPage)-1;this.search.currPage=e.toString()}},storeAll(e,t,r){this.search.searchType=e,this.search.streamType=t,this.search.currPage=r},storeSearchContent(e){this.search.searchContent=e},storeCurrPage(e){this.search.currPage=e},storeFilterInfo(e,t){this.search.searchType=e,this.search.streamType=t},storeSourceData(e){this.search.sourceData=e}}})},2448:function(e,t,r){e.exports=r.p+"img/lbry_logo.a33acc3a.svg"}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,r),s.exports}r.m=e,function(){var e=[];r.O=function(t,a,n,s){if(!a){var o=1/0;for(u=0;u<e.length;u++){a=e[u][0],n=e[u][1],s=e[u][2];for(var i=!0,c=0;c<a.length;c++)(!1&s||o>=s)&&Object.keys(r.O).every((function(e){return r.O[e](a[c])}))?a.splice(c--,1):(i=!1,s<o&&(o=s));if(i){e.splice(u--,1);var l=n();void 0!==l&&(t=l)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[a,n,s]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,a){return r.f[a](e,t),t}),[]))}}(),function(){r.u=function(e){return"js/"+e+"."+{465:"4f0cdac5",906:"f9cbc6e2",910:"bc64ba86"}[e]+".js"}}(),function(){r.miniCssF=function(e){return"css/"+e+"."+{465:"82d41eac",910:"42331080"}[e]+".css"}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="lbrygen-electron:";r.l=function(a,n,s,o){if(e[a])e[a].push(n);else{var i,c;if(void 0!==s)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var h=l[u];if(h.getAttribute("src")==a||h.getAttribute("data-webpack")==t+s){i=h;break}}i||(c=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",t+s),i.src=a),e[a]=[n];var d=function(t,r){i.onerror=i.onload=null,clearTimeout(p);var n=e[a];if(delete e[a],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((function(e){return e(r)})),t)return t(r)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),c&&document.head.appendChild(i)}}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.p="/"}(),function(){var e=function(e,t,r,a){var n=document.createElement("link");n.rel="stylesheet",n.type="text/css";var s=function(s){if(n.onerror=n.onload=null,"load"===s.type)r();else{var o=s&&("load"===s.type?"missing":s.type),i=s&&s.target&&s.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=o,c.request=i,n.parentNode.removeChild(n),a(c)}};return n.onerror=n.onload=s,n.href=t,document.head.appendChild(n),n},t=function(e,t){for(var r=document.getElementsByTagName("link"),a=0;a<r.length;a++){var n=r[a],s=n.getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(s===e||s===t))return n}var o=document.getElementsByTagName("style");for(a=0;a<o.length;a++){n=o[a],s=n.getAttribute("data-href");if(s===e||s===t)return n}},a=function(a){return new Promise((function(n,s){var o=r.miniCssF(a),i=r.p+o;if(t(o,i))return n();e(a,i,n,s)}))},n={143:0};r.f.miniCss=function(e,t){var r={465:1,910:1};n[e]?t.push(n[e]):0!==n[e]&&r[e]&&t.push(n[e]=a(e).then((function(){n[e]=0}),(function(t){throw delete n[e],t})))}}(),function(){var e={143:0};r.f.j=function(t,a){var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)a.push(n[2]);else{var s=new Promise((function(r,a){n=e[t]=[r,a]}));a.push(n[2]=s);var o=r.p+r.u(t),i=new Error,c=function(a){if(r.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var s=a&&("load"===a.type?"missing":a.type),o=a&&a.target&&a.target.src;i.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",i.name="ChunkLoadError",i.type=s,i.request=o,n[1](i)}};r.l(o,c,"chunk-"+t,t)}},r.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,s,o=a[0],i=a[1],c=a[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(n in i)r.o(i,n)&&(r.m[n]=i[n]);if(c)var u=c(r)}for(t&&t(a);l<o.length;l++)s=o[l],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(u)},a=self["webpackChunklbrygen_electron"]=self["webpackChunklbrygen_electron"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=r.O(void 0,[381,313,218,564],(function(){return r(2761)}));a=r.O(a)})();
//# sourceMappingURL=app.77c69c2d.js.map