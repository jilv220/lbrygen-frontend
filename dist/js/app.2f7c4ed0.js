(function(){var e={5737:function(e,t,r){"use strict";r.d(t,{ML:function(){return a},li:function(){return n}});const a="https://lbrygen-backend.xyz/api",n="https://thumbnails.odycdn.com/optimize/s:390:220/quality:85/plain/"},8079:function(e,t,r){"use strict";var a=r(9242),n=r(3396),s=r(2448);const o={class:"drawer h-auto"},i=(0,n._)("input",{id:"my-drawer",class:"drawer-toggle",type:"checkbox"},null,-1),c={class:"drawer-content overflow-hidden"},l={id:"navbar",class:"navbar fixed shadow z-50"},h=(0,n.uE)('<div class="navbar-start"><label for="my-drawer" class="mr-6"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"></path></svg></label></div><div class="pr-4"><img class="lbry-logo" alt="Lbry logo" src="'+s+'"></div>',2),u={class:"flex-1"},d={class:"pr-10"},p={class:"navbar-end"},m=(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[(0,n._)("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})],-1),g=(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[(0,n._)("path",{"fill-rule":"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 \n                  0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0\n                  4 4 0 018 0zm-.464 4.95l.707.707a1 \n                  1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 \n                  1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 \n                  0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 \n                  11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 \n                  1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 \n                  0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 \n                  8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 \n                  0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z","clip-rule":"evenodd"})],-1),f={class:"drawer-side h-screen"},y=(0,n._)("label",{for:"my-drawer",class:"drawer-overlay"},null,-1),v={id:"drawer-sidebar",class:"menu p-4 overflow-y-auto w-80 text-base-content sm:w-64"},w=(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[(0,n._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),b=(0,n.Uk)("Home");function T(e,t,r,s,T,_){const S=(0,n.up)("SearchBar"),C=(0,n.up)("FilterDropdown"),k=(0,n.up)("router-view"),P=(0,n.up)("SideBarItem");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",o,[i,(0,n._)("div",c,[(0,n._)("div",l,[h,(0,n._)("div",u,[(0,n.Wm)(S)]),(0,n._)("div",d,[(0,n.Wm)(C)]),(0,n._)("div",p,[m,(0,n.wy)((0,n._)("input",{type:"checkbox",class:"toggle mx-3",onClick:t[0]||(t[0]=e=>_.switchTheme()),"onUpdate:modelValue":t[1]||(t[1]=e=>this.checked=e)},null,512),[[a.e8,this.checked]]),g])]),(0,n.Wm)(k,null,{default:(0,n.w5)((({Component:t})=>[((0,n.wg)(),(0,n.j4)(n.Ob,null,[((0,n.wg)(),(0,n.j4)((0,n.LL)(t),{key:e.$route.fullPath}))],1024))])),_:1})]),(0,n._)("div",f,[y,(0,n._)("ul",v,[(0,n.Wm)(P,{link:"home"},{"item-icon":(0,n.w5)((()=>[w])),"item-label":(0,n.w5)((()=>[b])),_:1})])])])])}const _={class:"flex-1 mr-3"};function S(e,t,r,s,o,i){return(0,n.wg)(),(0,n.iD)("div",_,[(0,n.wy)((0,n._)("input",{tabindex:"0",id:"input-bar",class:"input w-full focus:outline-green",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>o.searchContent=e),placeholder:"Search some contents...",autocomplete:"off",onKeyup:t[1]||(t[1]=(0,a.D2)((e=>{i.resetPage(),i.performSearch(s.search.getSearchType,o.searchContent,s.search.getStreamType,s.search.getCurrPage).then((()=>i.gotoSearchPage()))}),["enter"]))},null,544),[[a.nr,o.searchContent]])])}var C=r(3852),k=r(6801),P={run(e,t){let r="";return r="channel"==t&&"@"!=e[0]?`@${e}`:e,r}},$={setup(){const e=(0,k.R)();return{search:e}},data(){return{searchContent:""}},watch:{$route(e,t){"search"==t.name&&(this.searchContent="",this.search.resetPage()),"search"==e.name&&(this.searchContent=this.$route.query.q,this.search.storeAll(this.$route.query.qt,this.$route.query.st,this.$route.query.p),this.performSearch(this.search.getSearchType,this.searchContent,this.search.getStreamType,this.search.getCurrPage))}},mounted(){this.$route.query.q&&(this.searchContent=this.$route.query.q,this.search.storeAll(this.$route.query.qt,this.$route.query.st,this.$route.query.p),this.performSearch(this.search.getSearchType,this.searchContent,this.search.getStreamType,this.search.getCurrPage))},methods:{async performSearch(e,t,r,a){let n=P.run(t,e);C.Z.getContent(e,r,n,Number(a)).then((e=>{void 0!==e.error?console.error(e):this.search.storeSourceData(e)})),"channel"==e&&C.Z.resolveClaimSingle(n).then((e=>{this.search.storeChannelData(e)}))},gotoSearchPage(){this.$router.push({name:"search",query:{q:this.searchContent,qt:this.search.getSearchType,st:this.search.getStreamType,p:this.search.getCurrPage}})},resetPage(){this.search.resetPage()}}},x=r(89);const q=(0,x.Z)($,[["render",S]]);var D=q;const A={class:"active:bg-green"};function I(e,t,r,a,s,o){return(0,n.wg)(),(0,n.iD)("li",{onClick:t[0]||(t[0]=e=>o.navigateTo(r.link))},[(0,n._)("div",A,[(0,n.WI)(e.$slots,"item-icon"),(0,n.WI)(e.$slots,"item-label")])])}var j={props:{link:String},methods:{navigateTo(e){this.$router.push({name:e})}}};const O=(0,x.Z)(j,[["render",I]]);var E=O;const M=(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[(0,n._)("path",{"fill-rule":"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z","clip-rule":"evenodd"})],-1),z={id:"filter-area",class:"p-6 grid grid-flow-col auto-cols-max text-left"},B={id:"stream-filter",class:"gird grid-flow-row auto-rows-max pr-6",autocomplete:"off"},F=(0,n._)("div",null,[(0,n._)("label",{class:"pl-02 pr-06"},"Filter by : ")],-1),L=(0,n._)("label",{class:"pl-02 pr-06",for:"video"},"Video",-1),U=(0,n._)("label",{class:"pl-02 pr-06",for:"image"},"Image",-1),V=(0,n._)("label",{class:"pl-02",for:"document"},"Document",-1),N={id:"search-filter",class:"gird grid-flow-row auto-rows-max",autocomplete:"off"},W=(0,n._)("div",null,[(0,n._)("label",{class:"pl-02 pr-06"},"Search by : ")],-1),Z=(0,n._)("label",{class:"pl-02 pr-06",for:"tag"},"Tag",-1),G=(0,n._)("label",{class:"pl-02 pr-06",for:"text"},"Text",-1),R=(0,n._)("label",{class:"pl-02",for:"channel"},"Channel",-1);function H(e,t,r,s,o,i){const c=(0,n.up)("DropdownBtn");return(0,n.wg)(),(0,n.j4)(c,{class:"hover:bg-green rounded-full p-2"},{"btn-icon":(0,n.w5)((()=>[M])),"dropdown-content":(0,n.w5)((()=>[(0,n._)("div",z,[(0,n._)("form",B,[F,(0,n._)("div",null,[(0,n.wy)((0,n._)("input",{type:"radio",id:"video",value:"video","onUpdate:modelValue":t[0]||(t[0]=e=>o.streamType=e)},null,512),[[a.G2,o.streamType]]),L]),(0,n._)("div",null,[(0,n.wy)((0,n._)("input",{type:"radio",id:"image",value:"image","onUpdate:modelValue":t[1]||(t[1]=e=>o.streamType=e)},null,512),[[a.G2,o.streamType]]),U]),(0,n._)("div",null,[(0,n.wy)((0,n._)("input",{type:"radio",id:"document",value:"document","onUpdate:modelValue":t[2]||(t[2]=e=>o.streamType=e)},null,512),[[a.G2,o.streamType]]),V])]),(0,n._)("form",N,[W,(0,n._)("div",null,[(0,n.wy)((0,n._)("input",{type:"radio",id:"tag",value:"tag","onUpdate:modelValue":t[3]||(t[3]=e=>o.searchType=e)},null,512),[[a.G2,o.searchType]]),Z]),(0,n._)("div",null,[(0,n.wy)((0,n._)("input",{type:"radio",id:"text",value:"text","onUpdate:modelValue":t[4]||(t[4]=e=>o.searchType=e)},null,512),[[a.G2,o.searchType]]),G]),(0,n._)("div",null,[(0,n.wy)((0,n._)("input",{type:"radio",id:"channel",value:"channel","onUpdate:modelValue":t[5]||(t[5]=e=>o.searchType=e)},null,512),[[a.G2,o.searchType]]),R])])])])),_:1})}const K={class:"dropdown dropdown-end dropdown-hover"},Q={class:"cursor-pointer",tabindex:"0"},J={id:"dropdown-wrapper",class:"dropdown-content menu"};function X(e,t,r,a,s,o){return(0,n.wg)(),(0,n.iD)("div",K,[(0,n._)("div",Q,[(0,n.WI)(e.$slots,"btn-icon",{},void 0,!0)]),(0,n._)("div",J,[(0,n.WI)(e.$slots,"dropdown-content",{},void 0,!0)])])}var Y={};const ee=(0,x.Z)(Y,[["render",X],["__scopeId","data-v-0fff92aa"]]);var te=ee,re={components:{DropdownBtn:te},setup(){const e=(0,k.R)();return{search:e}},data(){return{searchType:"tag",streamType:"video"}},mounted(){"/"==this.$route.path?this.search.storeFilterInfo(this.searchType,this.streamType):"/search"==this.$route.path&&(this.searchType=this.$route.query.qt,this.streamType=this.$route.query.st)},watch:{searchType:function(){this.search.storeFilterInfo(this.searchType,this.streamType)},streamType:function(){this.search.storeFilterInfo(this.searchType,this.streamType)},$route(e,t){"search"==t.name&&"search"==e.name?(this.searchType=this.search.getSearchType,this.streamType=this.search.getStreamType):"search"==t.name?(this.searchType="tag",this.streamType="video"):"search"==e.name&&(this.searchType=this.search.getSearchType,this.streamType=this.search.getStreamType)}}};const ae=(0,x.Z)(re,[["render",H]]);var ne=ae,se={name:"App",components:{SearchBar:D,SideBarItem:E,FilterDropdown:ne},data(){return{checked:this.$theme,intervalId:0,isLbryReady:!1}},beforeCreate(){"dark"==window.localStorage.getItem("theme")?(this.$theme=1,document.documentElement.setAttribute("data-theme","dark"),window.localStorage.setItem("theme","dark")):"light"==window.localStorage.getItem("theme")?(this.$theme=0,document.documentElement.setAttribute("data-theme","light"),window.localStorage.setItem("theme","light")):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(this.$theme=1,document.documentElement.setAttribute("data-theme","dark"))},methods:{switchTheme(){this.$theme=!this.$theme,this.$theme?(document.documentElement.setAttribute("data-theme","dark"),window.localStorage.setItem("theme","dark")):(document.documentElement.setAttribute("data-theme","light"),window.localStorage.setItem("theme","light"))},navigateTo(e){this.$router.push({name:e})}}};const oe=(0,x.Z)(se,[["render",T]]);var ie=oe,ce=r(8650),le=r(678);const he=()=>r.e(906).then(r.bind(r,5906)),ue=()=>Promise.all([r.e(461),r.e(517)]).then(r.bind(r,592)),de=()=>Promise.all([r.e(461),r.e(698)]).then(r.bind(r,9439)),pe=[{path:"/",name:"home",component:he},{path:"/search",name:"search",component:ue,props:e=>({searchContent:e.query.q,queryType:e.query.qt,streamType:e.query.st,currPage:e.query.p})},{path:"/stream",name:"stream",component:de,props:e=>({claimUrl:e.query.url})}],me=(0,le.p7)({history:(0,le.PO)(),routes:pe});me.beforeEach((()=>{window.scrollTo(0,0)}));var ge=me;const fe=(0,a.ri)(ie).use((0,ce.WB)()).use(ge);ge.isReady().then((()=>{fe.mount("#app")})),fe.config.globalProperties.$theme=0,fe.config.globalProperties.window=window},3852:function(e,t,r){"use strict";var a=r(6265),n=r.n(a),s=r(5737),o=r(5410);const i=s.ML;t["Z"]={async getStreamByUrl(e){let t=await n().get(`${i}/getStream?url=${e}`);return t.data},async downloadFromStream(e){let t=await n().get(`${i}/getStream?url=${e}`,{params:{d:"y"}});return t.data},async getContent(e,t,r,a=1,s=18,c="release_time"){let l="",h={p:a,ps:s,st:t,o:c};if(Array.isArray(r))r.length>5?h["t"]=r.slice(0,6):h["t"]=r;else{switch(e){case"tag":l="t";break;case"text":l="q";break;case"channel":l="c";break}h[l]=r}let u=await n().get(`${i}/search`,{params:h,paramsSerializer:e=>o.stringify(e)});return u.data},async resolveClaimSingle(e){let t=await n().get(`${i}/resolveSingle?curl=${e}`);return t.data},async getDaemonStatus(){let e=await n().get(`${i}/status`);return e.data}}},6801:function(e,t,r){"use strict";r.d(t,{R:function(){return s}});var a=r(8650);let n={searchType:String,searchContent:String,streamType:String,currPage:"1",sourceData:Object,channelData:Object};const s=(0,a.Q_)("search",{state:()=>({search:n}),getters:{getSearchType:e=>e.search.searchType,getSearchContent:e=>e.search.searchContent,getStreamType:e=>e.search.streamType,getCurrPage:e=>e.search.currPage,getSourceData:e=>e.search.sourceData,getChannelData:e=>e.search.channelData},actions:{init(){this.search.searchType="tag",this.search.searchContent="",this.search.streamType="video",this.search.currPage=1},initFilter(){this.search.searchType="tag",this.search.streamType="video"},resetPage(){this.search.currPage="1"},nextPage(){let e=Number(this.search.currPage)+1;this.search.currPage=e.toString()},prevPage(){if(Number(this.search.currPage)>1){let e=Number(this.search.currPage)-1;this.search.currPage=e.toString()}},storeAll(e,t,r){this.search.searchType=e,this.search.streamType=t,this.search.currPage=r},storeSearchContent(e){this.search.searchContent=e},storeCurrPage(e){this.search.currPage=e},storeFilterInfo(e,t){this.search.searchType=e,this.search.streamType=t},storeSourceData(e){this.search.sourceData=e},storeChannelData(e){this.search.channelData=e}}})},2448:function(e,t,r){"use strict";e.exports=r.p+"img/lbry_logo.a33acc3a.svg"},4654:function(){}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,r),s.exports}r.m=e,function(){var e=[];r.O=function(t,a,n,s){if(!a){var o=1/0;for(h=0;h<e.length;h++){a=e[h][0],n=e[h][1],s=e[h][2];for(var i=!0,c=0;c<a.length;c++)(!1&s||o>=s)&&Object.keys(r.O).every((function(e){return r.O[e](a[c])}))?a.splice(c--,1):(i=!1,s<o&&(o=s));if(i){e.splice(h--,1);var l=n();void 0!==l&&(t=l)}}return t}s=s||0;for(var h=e.length;h>0&&e[h-1][2]>s;h--)e[h]=e[h-1];e[h]=[a,n,s]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,a){return r.f[a](e,t),t}),[]))}}(),function(){r.u=function(e){return"js/"+e+"."+{461:"fa050412",517:"0ff866e4",698:"4c9b6af9",906:"d25c4f03"}[e]+".js"}}(),function(){r.miniCssF=function(e){return"css/"+e+"."+{517:"21d3cd5d",698:"33cbecf2"}[e]+".css"}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="lbrygen-frontend:";r.l=function(a,n,s,o){if(e[a])e[a].push(n);else{var i,c;if(void 0!==s)for(var l=document.getElementsByTagName("script"),h=0;h<l.length;h++){var u=l[h];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==t+s){i=u;break}}i||(c=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",t+s),i.src=a),e[a]=[n];var d=function(t,r){i.onerror=i.onload=null,clearTimeout(p);var n=e[a];if(delete e[a],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((function(e){return e(r)})),t)return t(r)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),c&&document.head.appendChild(i)}}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.p="/"}(),function(){var e=function(e,t,r,a){var n=document.createElement("link");n.rel="stylesheet",n.type="text/css";var s=function(s){if(n.onerror=n.onload=null,"load"===s.type)r();else{var o=s&&("load"===s.type?"missing":s.type),i=s&&s.target&&s.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=o,c.request=i,n.parentNode.removeChild(n),a(c)}};return n.onerror=n.onload=s,n.href=t,document.head.appendChild(n),n},t=function(e,t){for(var r=document.getElementsByTagName("link"),a=0;a<r.length;a++){var n=r[a],s=n.getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(s===e||s===t))return n}var o=document.getElementsByTagName("style");for(a=0;a<o.length;a++){n=o[a],s=n.getAttribute("data-href");if(s===e||s===t)return n}},a=function(a){return new Promise((function(n,s){var o=r.miniCssF(a),i=r.p+o;if(t(o,i))return n();e(a,i,n,s)}))},n={143:0};r.f.miniCss=function(e,t){var r={517:1,698:1};n[e]?t.push(n[e]):0!==n[e]&&r[e]&&t.push(n[e]=a(e).then((function(){n[e]=0}),(function(t){throw delete n[e],t})))}}(),function(){var e={143:0};r.f.j=function(t,a){var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)a.push(n[2]);else{var s=new Promise((function(r,a){n=e[t]=[r,a]}));a.push(n[2]=s);var o=r.p+r.u(t),i=new Error,c=function(a){if(r.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var s=a&&("load"===a.type?"missing":a.type),o=a&&a.target&&a.target.src;i.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",i.name="ChunkLoadError",i.type=s,i.request=o,n[1](i)}};r.l(o,c,"chunk-"+t,t)}},r.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,s,o=a[0],i=a[1],c=a[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(n in i)r.o(i,n)&&(r.m[n]=i[n]);if(c)var h=c(r)}for(t&&t(a);l<o.length;l++)s=o[l],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(h)},a=self["webpackChunklbrygen_frontend"]=self["webpackChunklbrygen_frontend"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=r.O(void 0,[381,910,73,313,219,564],(function(){return r(8079)}));a=r.O(a)})();
//# sourceMappingURL=app.2f7c4ed0.js.map