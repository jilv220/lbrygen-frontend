"use strict";(self["webpackChunklbrygen_frontend"]=self["webpackChunklbrygen_frontend"]||[]).push([[865],{9592:function(e,t,r){r.r(t),r.d(t,{default:function(){return T}});var n=r(3396),a=r(7139);const i={id:"content-wrapper",class:""},s={key:0,id:"layout",class:"grid grid-cols-3 gap-8 mt-4 px-4"},l={id:"container",class:"grid grid-rows-9 col-span-2"},d={id:"iframe-container"},o=["src"],c={id:"stream-info",class:"mt-6"},h={id:"stream-title"},m=(0,n._)("div",{id:"stream-info-divider",class:"divider h-0"},null,-1),u={id:"stream-desc"},v=["innerHTML"],w={id:"related-videos",class:"card flex-1 md:px-2"},g={key:1,id:"stream-loading",class:"flex-y-center"},p=(0,n._)("div",{class:"fancy-spinner"},[(0,n._)("div",{class:"ring"}),(0,n._)("div",{class:"ring"}),(0,n._)("div",{class:"dot"})],-1),f=[p];function y(e,t,r,p,y,_){const x=(0,n.up)("LGAvatarLabel"),U=(0,n.up)("SearchItem");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",i,[""!=y.sourceData?((0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("div",l,[(0,n._)("div",d,[(0,n._)("iframe",{allowfullscreen:"",webkitallowfullscreen:"",src:y.streamUrl,frameborder:"0"},"\n                        ",8,o)]),(0,n._)("div",c,[(0,n._)("h1",h,(0,a.zw)(y.title),1),m,(0,n.Wm)(x,{id:"stream-channel",class:"flex-x-start",showAvatar:this.showAvatar,showName:!0,avatar:this.avatar,channelName:this.channelName},{"lg-label":(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(this.channelName),1)])),_:1},8,["showAvatar","avatar","channelName"]),(0,n._)("div",u,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(y.descList,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t},[(0,n._)("span",{innerHTML:_.linkify(e)},null,8,v)])))),128))]),(0,n._)("button",{id:"expand-btn",class:"text-green",onClick:t[0]||(t[0]=e=>_.expandDesc("stream-desc"))},"More")])]),(0,n._)("div",w,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(y.sourceData.result.items,(e=>((0,n.wg)(),(0,n.iD)("li",{key:e},[(0,n.Wm)(U,{thumbnail:e.value.thumbnail,streamUrl:e.short_url,showAvatar:!1,avatar:e.signing_channel},{center:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(e.name),1)])),_:2},1032,["thumbnail","streamUrl","avatar"])])))),128))])])):((0,n.wg)(),(0,n.iD)("div",g,f))])])}var _=r(3852),x=r(166),U=r(8850),b=r(9715),k=r(945),D={props:{claimUrl:String},components:{SearchItem:U.Z,LGAvatarLabel:k.Z},setup(){const e=(0,x.o)();return{stream:e}},data(){return{avatar:void 0,channelName:"",claimUrlTranformed:"",sourceData:"",title:"",descList:[""],shortUrl:"",streamUrl:"",windowWidth:"",shouldExpand:!0,showAvatar:!0}},watch:{windowWidth(){this.adaptScreen(window.screen.width)}},mounted(){let e=this.claimUrl.split("#").join(":");this.claimUrlTranformed=e,window.addEventListener("resize",(()=>{this.windowWidth=window.innerWidth}));let t=[""];_.Z.resolveClaimSingle(this.claimUrlTranformed).then((e=>{if(void 0!==e.error)console.error(e);else{let r=e.result,n=r[this.claimUrlTranformed].signing_channel;n&&(this.avatar=n);let a=r[this.claimUrlTranformed].short_url;a&&(this.shortUrl=a);let i=r[this.claimUrlTranformed].value,s=i.title;t=i.tags;let l=i.description;i&&(l&&(this.descList=l.split("\n")),s&&(this.title=s))}})).then((()=>{_.Z.getStreamByUrl(this.shortUrl).then((e=>{void 0!==e.error?console.error(e):(this.streamUrl=e.streaming_url,this.adaptScreen(window.screen.width))}))})).then((()=>{function e(e){return Math.floor(Math.random()*e)}_.Z.getContent("tag","video",t,e(21),18,"trending_group").then((e=>{void 0!==e.error?console.error(e):this.sourceData=e}))})).catch((e=>{console.error("fucked up in stupid long chainquery : "+e)}))},methods:{linkify:b.N,expandDesc(e){this.shouldExpand?(document.getElementById("expand-btn").innerHTML="Less",document.getElementById(e).style.overflow="unset",document.getElementById(e).style.maxHeight="unset"):(document.getElementById("expand-btn").innerHTML="More",document.getElementById(e).style.overflow="hidden",document.getElementById(e).style.maxHeight="10em"),this.shouldExpand=!this.shouldExpand},adaptScreen(e){let t=document.getElementById("iframe-container");t&&(t.style.width=`${e}px`,t.style.height=e/16*9+"px")}}},L=r(89);const E=(0,L.Z)(D,[["render",y]]);var T=E}}]);
//# sourceMappingURL=865.98c67d83.js.map